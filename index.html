<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Оценка моделей сегментации</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>Оценка качества работы моделей</h1>

<p>
    Ниже представлены 3 сэмпла изображений.  
    В каждом блоке находятся:
</p>

<ul>
    <li>оригинал изображения</li>
    <li>3 результата работы моделей</li>
    <li>оценка качества каждой модели (1–5)</li>
</ul>

<p>
    Критерии оценки:
    <br>1. <b>Качество масок</b>  
    2. <b>Корректное количество объектов (куриц)</b>
</p>

<hr>

<!-- ===== SAMPLE TEMPLATE ===== -->

<div id="samples-container">

    <!-- SAMPLE 1 -->
    <div class="sample-block">
        <h2>Сэмпл 1</h2>

        <div class="images-row">
            <div>
                <h3>Оригинал</h3>
                <img src="images/sample1_original.png">
            </div>
            <div>
                <h3>Модель 1</h3>
                <img src="images/sample1_model1.png">
                <label>Оценка</label>
                <select id="s1_m1">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 2</h3>
                <img src="images/sample1_model2.png">
                <label>Оценка</label>
                <select id="s1_m2">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 3</h3>
                <img src="images/sample1_model3.png">
                <label>Оценка</label>
                <select id="s1_m3">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
        </div>
    </div>

    <hr>

    <!-- SAMPLE 2 -->
    <div class="sample-block">
        <h2>Сэмпл 2</h2>

        <div class="images-row">
            <div>
                <h3>Оригинал</h3>
                <img src="images/sample2_original.png">
            </div>
            <div>
                <h3>Модель 1</h3>
                <img src="images/sample2_model1.png">
                <label>Оценка</label>
                <select id="s2_m1">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 2</h3>
                <img src="images/sample2_model2.png">
                <label>Оценка</label>
                <select id="s2_m2">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 3</h3>
                <img src="images/sample2_model3.png">
                <label>Оценка</label>
                <select id="s2_m3">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
        </div>
    </div>

    <hr>

    <!-- SAMPLE 3 -->
    <div class="sample-block">
        <h2>Сэмпл 3</h2>

        <div class="images-row">
            <div>
                <h3>Оригинал</h3>
                <img src="images/sample3_original.png">
            </div>
            <div>
                <h3>Модель 1</h3>
                <img src="images/sample3_model1.png">
                <label>Оценка</label>
                <select id="s3_m1">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 2</h3>
                <img src="images/sample3_model2.png">
                <label>Оценка</label>
                <select id="s3_m2">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
            <div>
                <h3>Модель 3</h3>
                <img src="images/sample3_model3.png">
                <label>Оценка</label>
                <select id="s3_m3">
                    <option>1</option><option>2</option><option selected>3</option>
                    <option>4</option><option>5</option>
                </select>
            </div>
        </div>
    </div>

</div>

<hr>

<button id="submitBtn">Отправить</button>
<p id="status"></p>

<script>
// ⬇⬇ ВСТАВЬ СВОЙ WEBHOOK URL (Google Script) ⬇⬇
const GOOGLE_WEBHOOK = "https://script.google.com/macros/s/AKfycbxnPCjKq3FM2T7uTp3LOhyt-f8uZdwgarAyp6lyfZGX_A_nc9L_xGWJYXfMWhyfAUlqjQ/exec";

document.getElementById("submitBtn").onclick = async () => {

    const payload = {
        sample1: {
            model1: s1_m1.value,
            model2: s1_m2.value,
            model3: s1_m3.value,
        },
        sample2: {
            model1: s2_m1.value,
            model2: s2_m2.value,
            model3: s2_m3.value,
        },
        sample3: {
            model1: s3_m1.value,
            model2: s3_m2.value,
            model3: s3_m3.value,
        }
    };

    status.innerText = "Отправка...";

    try {
        await fetch(GOOGLE_WEBHOOK, {
            method: "POST",
            body: JSON.stringify(payload),
        });

        status.innerText = "Ответ сохранён! Спасибо!";
    } catch {
        status.innerText = "Ошибка отправки.";
    }
};
</script>

</body>
</html>
